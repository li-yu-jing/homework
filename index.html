<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>文字冒險遊戲</title>
  <style>
    body {
      margin: 0;
      font-family: "Arial", sans-serif;
      background-size: cover;
      background-position: center;
      color: white;
    }
    #game {
      padding: 2rem;
      background: rgba(0, 0, 0, 0.5);
      max-width: 800px;
      margin: 5vh auto;
      border-radius: 10px;
    }
    #speech {
      font-size: 1.2rem;
      margin-bottom: 1rem;
    }
    .choice {
      display: block;
      margin: 0.5rem 0;
      padding: 0.5rem 1rem;
      background: #ffffff22;
      border: none;
      color: white;
      font-size: 1rem;
      cursor: pointer;
      border-radius: 5px;
    }
    .choice:hover {
      background: #ffffff44;
    }
  </style>
</head>
<body>
  <div id="game">
    <div id="speech"></div>
    <div id="choices"></div>
  </div>

  <script>
    const scenes = {
      accept: {
        bg: 'day3.png',
        speech: '第一次踏進安置機構，印入我眼簾的這棟雙層樓的老屋，鐵皮屋頂鏽蝕、牆面斑駁，但中庭寬闊，四周圍繞著寢室。',
        autoNext: 'd1',
        choices: [] 
      },
      d1: {
        bg: 'day3.png',
        speech: '房內擺滿雙層床，金屬床架沿牆排開，空間顯得擁擠而充滿生活感。這裡或許稱不上舒適，但至少給了許多和我一樣的街友一個棲身之所。',
        autoNext: 'd2',
        choices: []
      },
      d2: {
        bg: 'day3.png',
        speech: '對我來說，一切還很陌生，還不太知道該怎麼開始新的生活。',
        choices: [
          { text: '決定先觀察一陣子，獨自在房間休息', next: 'bbb' },
          { text: '趕快嘗試看看能不能適應新生活', next: 'aaa' }
        ]
      },
      aaa: {
        bg: '團康甩手功.png',
        speech: '吃完早餐，社工公布今天的團康活動，全體住民都要參加手工藝課。',
        autoNext: 'd3',
        choices: []
      },
      d3: {
        bg: '團康甩手功.png',
        speech: '聽到社工的公告，有些老住民已經習慣的開始動作，我卻還坐在角落。',
        autoNext: 'd4',
        choices: []
      },
      d4: {
        bg: '團康甩手功.png',
        speech: '不清楚這些安排對我有沒有幫助，而且我還不太認識這邊的其他住民和生活輔導員⋯⋯',
        choices: [
          { text: '不願參加，找理由推託', next: 'ddd' },
          { text: '勉強參加，但覺得無聊', next: 'ccc' }
        ]
      },
      bbb: {
        bg: 'day04.png',
        speech: '早上的團體活動時間，住在街頭多年的我早就過慣了沒日沒夜的生活，只想躺著休息。',
        autoNext: 'd5',
        choices: []
      },
      d5: {
        bg: 'day04.png',
        speech: '但才剛躺下，生活輔導員就在門口催促我：「起來囉，要去打掃跟做早操了，每天早上都要，大家都得去。」',
        autoNext: 'd6',
        choices: []
      },
      d6: {
        bg: 'day04.png',
        speech: '我知道這是規定，但真的不太習慣這種被安排好的團體生活⋯⋯',
        choices: [
          { text: '草草應付參加活動', next: 'ccc' },
          { text: '拒絕並表現不滿', next: 'ddd' }
        ]
      },
      ddd: {
        bg: '強制參加團康活動.png',
        speech: '生活輔導員擋在活動室門口，他看起來還年輕氣盛，語氣強硬：',
        autoNext: 'd7',
        choices: []
      },
      d7: {
        bg: '強制參加團康活動.png',
        speech: '「規定就是規定，每個人都要參加團康活動。」',
        autoNext: 'd8',
        choices: []
      }
    };

    let current = 'accept';

    function showScene(key) {
      const scene = scenes[key];
      current = key;
      document.body.style.backgroundImage = `url('${scene.bg}')`;
      document.getElementById('speech').textContent = scene.speech;

      const choicesDiv = document.getElementById('choices');
      choicesDiv.innerHTML = '';

      if (scene.choices && scene.choices.length > 0) {
        scene.choices.forEach(choice => {
          const btn = document.createElement('button');
          btn.className = 'choice';
          btn.textContent = choice.text;
          btn.onclick = () => showScene(choice.next);
          choicesDiv.appendChild(btn);
        });
      } else if (scene.autoNext) {
        setTimeout(() => showScene(scene.autoNext), 2000);
      }
    }

    showScene(current);
  </script>
</body>
</html>
